<div class="page-container">
  <div class="main-content">

    <header class="welcome-header">
      <h1>{{ 'RenterHome.Greeting' | translate:{ username: username } }}</h1>
      <p>{{ 'RenterHome.Subtitle' | translate }}</p>
    </header>

    <section class="stats-grid">
      <div class="stat-card">
        <div class="stats-label">{{ 'RenterHome.HasTraveled' | translate }}</div>
        <div class="stat-value">{{ distanceTraveled }} km</div>
      </div>
      <div class="stat-card">
        <div class="stats-label">{{ 'RenterHome.RentalsCount' | translate }}</div>
        <div class="stat-value">{{ rentalsCount }}</div>
      </div>
      <div class="stat-card">
        <div class="stats-label">{{ 'RenterHome.DrivingTime' | translate }}</div>
        <div class="stat-value">{{ drivingTime }} h</div>
      </div>
      <div class="stat-card">
        <div class="stats-label">{{ 'RenterHome.Rating' | translate }}</div>
        <div class="stat-value rating-display">
          &#9733;&#9733;&#9733;&#9733;&#9733;
          <span class="rating-number">{{ rating }}</span>
        </div>
      </div>
    </section>

    <section class="next-reservation">
      <h2>{{ 'RenterHome.NextReservation' | translate }}</h2>
      <div class="card reservation-card">
        <div class="reservation-info">
          <p class="bike-name">{{ upcoming.bike }}</p>
          <p>{{ upcoming.date }} – {{ upcoming.time }}</p>
          <p>{{ upcoming.address }}</p>
        </div>
        <div class="reservation-image">
          <img [src]="upcoming.imageUrl" alt="{{ upcoming.bike }}">
        </div>
        <div class="reservation-actions">
          <button class="btn btn-details" (click)="viewDetails()">{{ 'RenterHome.ViewDetails' | translate }}</button>
          <button class="btn btn-cancel"  (click)="cancelReservation()">{{ 'RenterHome.Cancel' | translate }}</button>
        </div>
      </div>
    </section>

    <section class="recent-rentals">
      <h2>{{ 'RenterHome.RecentRentals' | translate }}</h2>
      <div class="card recent-rentals-card">
        <div class="rentals-header">
          <span>{{ 'RenterHome.Bike' | translate }}</span>
          <span>{{ 'RenterHome.Date' | translate }}</span>
          <span>{{ 'RenterHome.StartStation' | translate }}</span>
          <span>{{ 'RenterHome.EndStation' | translate }}</span>
          <span>{{ 'RenterHome.Status' | translate }}</span>
        </div>
        <div class="rental-item" *ngFor="let r of recentRentals">
          <span>{{ r.bike }}</span>
          <span>{{ r.date }}</span>
          <span>{{ r.startStation }}</span>
          <span>{{ r.endStation }}</span>
          <span>
            <span class="status-badge"
                  [ngClass]="{
                    'status-finalizado': r.status==='Finalizado',
                    'status-cancelada': r.status==='Cancelada'
                  }">
              {{ r.status }}
            </span>
          </span>
        </div>
      </div>
    </section>

  </div>

  <aside class="sidebar">
    <h2>{{ 'RenterHome.Recommendations' | translate }}</h2>
    <div class="card recommendations-card">
      <div class="recommendation-item" *ngFor="let rec of recommendations">
        <img class="rec-image" [src]="rec.imageUrl" alt="{{ rec.bike }}">
        <div class="rec-info">
          <span class="rec-name">{{ rec.bike }}</span><br>
          <span class="rec-details">S/ {{ rec.pricePerHour.toFixed(2) }}/h – {{ rec.distance }}</span>
        </div>
        <button class="btn btn-reserve" (click)="reserveAgain(rec)">{{ 'RenterHome.Reserve' | translate }}</button>
      </div>
    </div>
  </aside>
</div>
