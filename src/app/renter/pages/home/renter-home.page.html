<div class="page-container">
  <div class="main-content">
    <!-- Bienvenida -->
    <header class="welcome-header">
      <h1>¡Hola, {{ username }}!</h1>
      <p>¿Listo para tu próxima aventura en bicicleta?</p>
    </header>

    <!-- Estadísticas -->
    <section class="stats-grid">
      <div *ngFor="let s of stats" class="stat-card">
        <span>{{ s.label }}</span>
        <div class="stat-value">
          <ng-container *ngIf="!s.isRating">
            {{ s.value }} <span class="stat-suffix" *ngIf="s.suffix">{{ s.suffix }}</span>
          </ng-container>
          <div *ngIf="s.isRating" class="rating-display">
            <i class="pi pi-star-fill"></i>
            <i class="pi pi-star-fill"></i>
            <i class="pi pi-star-fill"></i>
            <i class="pi pi-star-fill"></i>
            <i class="pi pi-star-half-fill"></i>
            <span class="rating-number">{{ s.value }}</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Próxima Reserva -->
    <section class="next-reservation">
      <h2>Tu próxima reserva</h2>
      <div class="card reservation-card">
        <div class="reservation-info">
          <p class="bike-name">{{ upcoming.bike }}</p>
          <p>{{ upcoming.date }} - {{ upcoming.time }}</p>
          <p>{{ upcoming.address }}</p>
        </div>
        <div class="reservation-image">
          <img [src]="upcoming.imageUrl" alt="{{ upcoming.bike }}">
        </div>
        <div class="reservation-actions">
          <button class="btn btn-details" (click)="viewDetails()">Ver detalles</button>
          <button class="btn btn-cancel" (click)="cancelReservation()">Cancelar reserva</button>
        </div>
      </div>
    </section>

    <!-- Reservas Recientes -->
    <section class="recent-rentals">
      <h2>Reservas Recientes</h2>
      <div class="card recent-rentals-card">
        <div class="rentals-header">
          <span>Bicicleta</span>
          <span>Fecha</span>
          <span>Estación inicio</span>
          <span>Estación final</span>
          <span>Estado</span>
        </div>
        <div class="rental-item" *ngFor="let r of recentRentals">
          <span>{{ r.bike }}</span>
          <span>{{ r.date }}</span>
          <span>{{ r.startStation }}</span>
          <span>{{ r.endStation }}</span>
          <span>
            <span class="status-badge" [ngClass]="{
              'status-finalizado': r.status === 'Finalizado',
              'status-cancelada': r.status === 'Cancelada'
            }">
              {{ r.status }}
            </span>
          </span>
        </div>
      </div>
    </section>
  </div>

  <!-- Barra lateral de Recomendaciones -->
  <aside class="sidebar">
    <h2>Recomendaciones</h2>
    <div class="card recommendations-card">
      <div class="recommendation-item" *ngFor="let rec of recommendations">
        <img class="rec-image" [src]="rec.imageUrl" alt="{{ rec.bike }}">
        <div class="rec-info">
          <span class="rec-name">{{ rec.bike }}</span>
          <span class="rec-details">$ {{ rec.pricePerHour.toFixed(2) }}/h / {{ rec.distance }}</span>
        </div>
        <button class="btn btn-reserve" (click)="reserveAgain(rec)">Reservar</button>
      </div>
    </div>
  </aside>
</div>
